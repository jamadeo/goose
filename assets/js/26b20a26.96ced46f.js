"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[6706],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var o=s(96540);const a={},r=o.createContext(a);function i(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(r.Provider,{value:n},e.children)}},94953:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"guides/terminal-integration","title":"Terminal Integration","description":"The goose term commands let you talk to goose directly from your shell prompt. Instead of switching to a separate REPL session, you stay in your terminal and call goose when you need it.","source":"@site/docs/guides/terminal-integration.md","sourceDirName":"guides","slug":"/guides/terminal-integration","permalink":"/goose/docs/guides/terminal-integration","draft":false,"unlisted":true,"tags":[],"version":"current","frontMatter":{"unlisted":true},"sidebar":"tutorialSidebar"}');var a=s(74848),r=s(28453);const i={unlisted:!0},t="Terminal Integration",l={},d=[{value:"Command History Awareness",id:"command-history-awareness",level:2},{value:"Setup",id:"setup",level:2},{value:"Default Mode",id:"default-mode",level:3},{value:"Usage",id:"usage",level:2},{value:"What Gets Logged",id:"what-gets-logged",level:2},{value:"Performance",id:"performance",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Session Management",id:"session-management",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"terminal-integration",children:"Terminal Integration"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"goose term"})," commands let you talk to goose directly from your shell prompt. Instead of switching to a separate REPL session, you stay in your terminal and call goose when you need it."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'@goose "what does this error mean?"\n'})}),"\n",(0,a.jsx)(n.p,{children:"Goose responds, you read the answer, and you're back at your prompt. The conversation lives alongside your work, not in a separate window you have to manage."}),"\n",(0,a.jsx)(n.h2,{id:"command-history-awareness",children:"Command History Awareness"}),"\n",(0,a.jsx)(n.p,{children:"The real power comes from shell integration. Once set up, goose tracks the commands you run, so when you ask a question, it already knows what you've been doing."}),"\n",(0,a.jsx)(n.p,{children:'No more copy-pasting error messages or explaining "I ran these commands...". Just work normally, then ask goose for help.'}),"\n",(0,a.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,a.jsx)(n.p,{children:"Add one line to your shell config:"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"zsh"})," (",(0,a.jsx)(n.code,{children:"~/.zshrc"}),")"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'eval "$(goose term init zsh)"\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"bash"})," (",(0,a.jsx)(n.code,{children:"~/.bashrc"}),")"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'eval "$(goose term init bash)"\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"fish"})," (",(0,a.jsx)(n.code,{children:"~/.config/fish/config.fish"}),")"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fish",children:"goose term init fish | source\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"PowerShell"})," (",(0,a.jsx)(n.code,{children:"$PROFILE"}),")"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-powershell",children:"Invoke-Expression (goose term init powershell)\n"})}),"\n",(0,a.jsx)(n.p,{children:"Then restart your terminal or source the config."}),"\n",(0,a.jsx)(n.h3,{id:"default-mode",children:"Default Mode"}),"\n",(0,a.jsxs)(n.p,{children:["For ",(0,a.jsx)(n.strong,{children:"bash"})," and ",(0,a.jsx)(n.strong,{children:"zsh"}),", you can make goose the default handler for anything that isn't a valid command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# zsh\neval "$(goose term init zsh --default)"\n\n# bash\neval "$(goose term init bash --default)"\n'})}),"\n",(0,a.jsx)(n.p,{children:"With this enabled, anything you type that isn't a command will be sent to goose:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"$ what files are in this directory?\n\ud83e\udebf Command 'what' not found. Asking goose...\n"})}),"\n",(0,a.jsx)(n.p,{children:"Goose will interpret what you typed and help you accomplish the task."}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.p,{children:"Once set up, your terminal session is linked to a goose session. All commands you run are logged to that session."}),"\n",(0,a.jsx)(n.p,{children:"To talk to goose about what you've been doing:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'@goose "why did that fail?"\n'})}),"\n",(0,a.jsxs)(n.p,{children:["You can also use ",(0,a.jsx)(n.code,{children:"@g"})," as a shorter alias:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'@g "explain this error"\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Both ",(0,a.jsx)(n.code,{children:"@goose"})," and ",(0,a.jsx)(n.code,{children:"@g"})," are aliases for ",(0,a.jsx)(n.code,{children:"goose term run"}),". They open goose with your command history already loaded."]}),"\n",(0,a.jsx)(n.h2,{id:"what-gets-logged",children:"What Gets Logged"}),"\n",(0,a.jsx)(n.p,{children:"Every command you type gets stored. Goose sees commands you ran since your last message to it."}),"\n",(0,a.jsxs)(n.p,{children:["Commands starting with ",(0,a.jsx)(n.code,{children:"goose term"}),", ",(0,a.jsx)(n.code,{children:"@goose"}),", or ",(0,a.jsx)(n.code,{children:"@g"})," are not logged (to avoid noise)."]}),"\n",(0,a.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Shell startup"}),": adds ~10ms"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Per command"}),": ~10ms, runs in background (non-blocking)"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"You won't notice any delay. The logging happens asynchronously after your command starts executing."}),"\n",(0,a.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"goose term init"})," outputs shell code that:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Sets a ",(0,a.jsx)(n.code,{children:"GOOSE_SESSION_ID"})," environment variable linking your terminal to a goose session"]}),"\n",(0,a.jsxs)(n.li,{children:["Creates ",(0,a.jsx)(n.code,{children:"@goose"})," and ",(0,a.jsx)(n.code,{children:"@g"})," aliases for quick access"]}),"\n",(0,a.jsxs)(n.li,{children:["Installs a preexec hook that calls ",(0,a.jsx)(n.code,{children:"goose term log"})," for each command"]}),"\n",(0,a.jsxs)(n.li,{children:["Optionally installs a command-not-found handler (with ",(0,a.jsx)(n.code,{children:"--default"}),")"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The hook runs ",(0,a.jsx)(n.code,{children:"goose term log <command> &"})," in the background, which appends to the goose session.\nWhen you run ",(0,a.jsx)(n.code,{children:"@goose"}),", goose reads from the goose session any commands that happened since it\nwas last called and incorporates them in the next call."]}),"\n",(0,a.jsx)(n.h2,{id:"session-management",children:"Session Management"}),"\n",(0,a.jsx)(n.p,{children:"By default a new goose session is created each time you run init and\nthat session lasts as long as you keep that terminal open."}),"\n",(0,a.jsx)(n.p,{children:"You can create a named session by passing --name:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'eval "$(goose term init zsh --name my_project)"\n'})}),"\n",(0,a.jsxs)(n.p,{children:["which will create a session with the name ",(0,a.jsx)(n.code,{children:"my_project"})," if it doesn't exist yet or continues\nthat session if it does."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);